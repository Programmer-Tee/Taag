!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="//assets0.headwayapp.co/assets/packs/",i(i.s=610)}({610:function(t,e,i){"use strict";i.r(e);var n,s=function(t,e){return function(){return t.apply(e,arguments)}},o=[].slice,a=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){function t(){this.markGlobal=s(this.markGlobal,this),this.getNewWidget=s(this.getNewWidget,this),this.documentReady=s(this.documentReady,this),this.removeEyecatcher=s(this.removeEyecatcher,this),this.upgradeEyecatcher=s(this.upgradeEyecatcher,this),this.setupEyecatcher=s(this.setupEyecatcher,this),this.getPrivateToken=s(this.getPrivateToken,this),this.setUnseenCount=s(this.setUnseenCount,this),this.getUnseenCount=s(this.getUnseenCount,this),this.getChangelogs=s(this.getChangelogs,this),this.widgetReady=s(this.widgetReady,this),this.classicSetHeight=s(this.classicSetHeight,this),this.newSetHeight=s(this.newSetHeight,this),this.setHeight=s(this.setHeight,this),this.setBadge=s(this.setBadge,this),this.showWidgetBadge=s(this.showWidgetBadge,this),this.toggle=s(this.toggle,this),this.triggerCallback=s(this.triggerCallback,this),this.reload=s(this.reload,this),this.hide=s(this.hide,this),this.updatePosition=s(this.updatePosition,this),this.setPosition=s(this.setPosition,this),this.classicSetPosition=s(this.classicSetPosition,this),this.newSetPosition=s(this.newSetPosition,this),this.getPosition=s(this.getPosition,this),this.show=s(this.show,this),this.setState=s(this.setState,this),this.migrateLocalStorage=s(this.migrateLocalStorage,this),this.lsSet=s(this.lsSet,this),this.lsGet=s(this.lsGet,this),this.lsSetState=s(this.lsSetState,this),this.lsGetState=s(this.lsGetState,this),this.lsKey=s(this.lsKey,this),this.onFrameLoad=s(this.onFrameLoad,this),this.onBodyClick=s(this.onBodyClick,this),this.attachListeners=s(this.attachListeners,this),this.postMessageReceive=s(this.postMessageReceive,this),this.ga=s(this.ga,this),this.markAllSeen=s(this.markAllSeen,this),this.markSeen=s(this.markSeen,this),this.markRead=s(this.markRead,this),this.trackEvent=s(this.trackEvent,this),this.onHideWidget=s(this.onHideWidget,this),this.onReadMore=s(this.onReadMore,this),this.onShowDetails=s(this.onShowDetails,this),this.onShowWidget=s(this.onShowWidget,this),this.onShowWidgetBadge=s(this.onShowWidgetBadge,this),this.onWidgetUpdate=s(this.onWidgetUpdate,this),this.onWidgetReady=s(this.onWidgetReady,this),this.setAction=s(this.setAction,this),this.makeInaccessible=s(this.makeInaccessible,this),this.makeAccessible=s(this.makeAccessible,this),this.getIframeUrl=s(this.getIframeUrl,this),this.createIframe=s(this.createIframe,this),this.destroyIframe=s(this.destroyIframe,this),this.resetIframe=s(this.resetIframe,this),this.getCurrentIframeData=s(this.getCurrentIframeData,this),this.initIframe=s(this.initIframe,this),this.setStyles=s(this.setStyles,this),this.createElements=s(this.createElements,this),this.setup=s(this.setup,this),this.realInit=s(this.realInit,this),this.init=s(this.init,this),this.log=s(this.log,this)}return 30,"CaptainAmerica","HW_frame","HW_frame_cont","HW_embed","HW_bottom",".HW_badge_cont {\n  visibility: hidden;\n  pointer-events: none;\n  display: block;\n  height: 32px;\n  width: 32px;\n  cursor: pointer;\n  position: relative;\n}\n\n.HW_badge_cont.HW_visible {\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.HW_badge {\n  display: block;\n  border-radius: 20px;\n  background: #CD4B5B;\n  height: 16px;\n  width: 16px;\n  color: #fff;\n  text-align: center;\n  line-height: 16px;\n  font-size: 11px;\n  cursor: pointer;\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  opacity: 0;\n  transform: scale(0);\n  transition: all 0.3s;\n}\n\n.HW_badge.HW_softHidden {\n  background: #d4d4d4;\n  opacity: 1;\n  transform: scale(0.6);\n}\n\n.HW_badge.HW_hidden {\n  opacity: 0;\n  transform: scale(0);\n}\n\n.HW_badge.HW_visible {\n  opacity: 1;\n  transform: scale(1.0);\n}\n\n.HW_frame_cont {\n  pointer-events: none;\n  border-radius: 4px;\n  box-shadow: 0 0 1px rgba(99, 114, 130, 0.32), 0 8px 16px rgba(27, 39, 51, 0.08);\n  background: #fff;\n  border: none;\n  position: absolute;\n  top: -900em;\n  z-index: 2147483647;\n  width: 340px;\n  height: 0;\n  opacity: 0;\n  will-change: height, margin-top, opacity;\n  margin-top: -10px;\n  transition: margin-top 0.15s ease-out, opacity 0.1s ease-out;\n}\n\n#HW_frame_cont.HW_bottom {\n  transition: margin-top 0.15s ease-out, opacity 0.1s ease-out, height 0.3s ease-out;\n}\n\n.HW_frame_cont.HW_visible {\n  opacity: 1;\n  pointer-events: auto;\n  margin-top: 0px;\n}\n\n.HW_frame {\n  background: #fff;\n  border: none;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 4px;\n  position: relative;\n  z-index: 2147483647;\n  transition: height 0.3s ease-out;\n}\n\n.HW_frame_cont.HW_embed {\n  position: static;\n  margin-top: 0;\n}",t.prototype.postMessage=function(){var t,e,i;return e=(t=Array.prototype.slice.call(arguments)).shift(),i=t,this.iframe.contentWindow.postMessage(["CaptainAmerica",e,i],"*")},t.prototype.log=function(){if(this.localOptions.debug)return console.log("[Headway Debug]",arguments)},t.prototype.warn=function(t){return console.warn("[Headway Error]",t)},t.prototype.init=function(t){var e;null==t&&(t=HW_config),this.hide();try{this.realInit(t)}catch(i){e=i,this.warn(e)}return this},t.prototype.realInit=function(t){var e,i,n;if(this.localOptions=t,this.position={x:(null!=(e=t.position)?e.x:void 0)||"right",y:(null!=(i=t.position)?i.y:void 0)||"bottom",version:(null!=(n=t.position)?n.version:void 0)||"v0"},("v8"===this.position.version||t.krzysztof)&&(this.newWidgetPositioning=!0),this.accountId=this.localOptions.account,this.protocol=this.localOptions.protocol?this.localOptions.protocol+":":"https:",this.localOptions.enabled=null==this.localOptions.enabled||this.localOptions.enabled,this.destroy(),this.localOptions.enabled){if(null==this.accountId)return this.warn("Cannot load widget, 'HW_config.account' is missing");if(this.localOptions.apiMode)this.localOptions.selector&&(delete this.localOptions.selector,this.warn("When in apiMode, 'selector' option is ignored")),this.localOptions.trigger&&(delete this.localOptions.trigger,this.warn("When in apiMode, 'trigger' option is ignored"));else if(null==this.localOptions.selector)return this.warn("Cannot load widget, 'HW_config.selector' is missing");return this.visible=!1,this.currentAlign="left",this.eyecatcherLevel=0,null!=this.localOptions.callbacks&&(this.localCallbacks=this.localOptions.callbacks),this.localOptions.callbacks=null,this.documentReady(this.setup)}},t.prototype.destroy=function(){return this.findAndDestroy("#HW_badge_cont"),this.widgetIsReady=!1,this.badgeIsReady=!1},t.prototype.find=function(t){return this.findAll(t)[0]},t.prototype.findAll=function(t){return document.querySelectorAll(t)},t.prototype.findAndDestroy=function(t){var e,i;return null!=(e=this.find(t))&&null!=(i=e.parentNode)?i.removeChild(e):void 0},t.prototype.setup=function(){return this.badgeEl=document.querySelector(this.localOptions.selector),this.badgeEl||this.localOptions.apiMode?(this.createElements(),this.makeInaccessible(),window.addEventListener("message",this.postMessageReceive)):this.warn("Element provided by selector does not exist.")},t.prototype.createElements=function(){var t;return this.elements={badgeCont:document.createElement("span"),badge:document.createElement("span"),animate:document.createElement("link"),trigger:this.findAll(this.localOptions.trigger)},this.find("#HW_styles_cont")||((t=document.createElement("style")).id="HW_styles_cont",t.textContent=".HW_badge_cont {\n  visibility: hidden;\n  pointer-events: none;\n  display: block;\n  height: 32px;\n  width: 32px;\n  cursor: pointer;\n  position: relative;\n}\n\n.HW_badge_cont.HW_visible {\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.HW_badge {\n  display: block;\n  border-radius: 20px;\n  background: #CD4B5B;\n  height: 16px;\n  width: 16px;\n  color: #fff;\n  text-align: center;\n  line-height: 16px;\n  font-size: 11px;\n  cursor: pointer;\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  opacity: 0;\n  transform: scale(0);\n  transition: all 0.3s;\n}\n\n.HW_badge.HW_softHidden {\n  background: #d4d4d4;\n  opacity: 1;\n  transform: scale(0.6);\n}\n\n.HW_badge.HW_hidden {\n  opacity: 0;\n  transform: scale(0);\n}\n\n.HW_badge.HW_visible {\n  opacity: 1;\n  transform: scale(1.0);\n}\n\n.HW_frame_cont {\n  pointer-events: none;\n  border-radius: 4px;\n  box-shadow: 0 0 1px rgba(99, 114, 130, 0.32), 0 8px 16px rgba(27, 39, 51, 0.08);\n  background: #fff;\n  border: none;\n  position: absolute;\n  top: -900em;\n  z-index: 2147483647;\n  width: 340px;\n  height: 0;\n  opacity: 0;\n  will-change: height, margin-top, opacity;\n  margin-top: -10px;\n  transition: margin-top 0.15s ease-out, opacity 0.1s ease-out;\n}\n\n#HW_frame_cont.HW_bottom {\n  transition: margin-top 0.15s ease-out, opacity 0.1s ease-out, height 0.3s ease-out;\n}\n\n.HW_frame_cont.HW_visible {\n  opacity: 1;\n  pointer-events: auto;\n  margin-top: 0px;\n}\n\n.HW_frame {\n  background: #fff;\n  border: none;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 4px;\n  position: relative;\n  z-index: 2147483647;\n  transition: height 0.3s ease-out;\n}\n\n.HW_frame_cont.HW_embed {\n  position: static;\n  margin-top: 0;\n}",document.body.appendChild(t)),this.localOptions.apiMode||this.localOptions.embed||(this.global&&(this.elements.badgeCont.id="HW_badge_cont"),this.elements.badgeCont.classList.add("HW_badge_cont"),this.elements.badgeCont.addEventListener("click",this.toggle,!1),this.badgeEl.appendChild(this.elements.badgeCont),this.setStyles(this.elements.badgeCont,"badgeCont"),this.global&&(this.elements.badge.id="HW_badge"),this.elements.badge.classList.add("HW_badge"),this.elements.badgeCont.appendChild(this.elements.badge),this.setStyles(this.elements.badge,"badge")),this.initIframe()},t.prototype.setStyles=function(){var t,e,i;return t=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],t.style.cssText="",e.forEach((i=this,function(e){var n,s;return"string"===typeof(s=(null!=(n=i.localOptions.styles)?n[e]:void 0)||{})?t.style.cssText=s:Object.keys(s).forEach((function(e){return t.style[e]=s[e]}))}))},t.prototype.initIframe=function(){return this.iframeCont&&this.iframeCont.dataset.account===this.accountId&&document.body.contains(this.iframeCont)?this.iframeData?this.widgetReady(this.getCurrentIframeData()):void 0:this.resetIframe()},t.prototype.getCurrentIframeData=function(){return this.iframeData.state=this.state,this.iframeData.badgeCount=this.getUnseenCount(),this.iframeData},t.prototype.resetIframe=function(){return this.destroyIframe(),this.createIframe()},t.prototype.destroyIframe=function(){var t,e;return null!=(t=this.iframeCont)&&null!=(e=t.parentNode)&&e.removeChild(this.iframeCont),this.iframeCont=this.iframe=null,this.iframeData=null},t.prototype.createIframe=function(){var t,e;return t=document.createElement("iframe"),e=document.createElement("div"),this.global&&(e.id="HW_frame_cont"),e.classList.add("HW_frame_cont"),this.localOptions.embed&&e.classList.add("HW_embed"),"top"!==this.position.y&&e.classList.add("HW_bottom"),e.dataset.account=this.accountId,(this.localOptions.embed?this.badgeEl:document.body).appendChild(e),this.global&&(t.id="HW_frame"),t.classList.add("HW_frame"),t.src=this.getIframeUrl(),t.sandbox="allow-same-origin allow-scripts allow-top-navigation allow-popups allow-forms allow-popups-to-escape-sandbox",t.addEventListener("load",this.onFrameLoad),e.appendChild(t),this.iframeCont=e,this.iframe=t},t.prototype.getIframeUrl=function(){var t,e;return t=this.localOptions.debugHost||"headway-widget.net",e=this.protocol+"//"+t+"/widgets/rck/"+this.accountId,null!=this.localOptions.token&&(e=e+"?token="+this.localOptions.token),e},t.prototype.makeAccessible=function(){return this.iframe.setAttribute("tabindex","0"),this.iframe.setAttribute("aria-hidden","false")},t.prototype.makeInaccessible=function(){return this.iframe.setAttribute("tabindex","-1"),this.iframe.setAttribute("aria-hidden","true")},t.prototype.setAction=function(t,e){if("onShowDetails"===t.event&&this.onShowDetails(t.data),"onReadMore"===t.event)return this.onReadMore(t.data)},t.prototype.onWidgetReady=function(t){return this.triggerCallback("onWidgetReady",t)},t.prototype.onWidgetUpdate=function(t){return this.triggerCallback("onWidgetUpdate",t)},t.prototype.onShowWidgetBadge=function(t){return this.trackEvent("showBadge",{value:t})},t.prototype.onShowWidget=function(){return this.triggerCallback("onShowWidget"),this.trackEvent("openWidget",{action:"user"})},t.prototype.onShowDetails=function(t){return this.triggerCallback("onShowDetails",t),this.trackEvent("read: "+t.title,{action:"user"})},t.prototype.onReadMore=function(t){return this.triggerCallback("onReadMore",t),this.trackEvent("readMore: "+t.title,{action:"user"})},t.prototype.onHideWidget=function(){return this.triggerCallback("onHideWidget")},t.prototype.trackEvent=function(t,e){var i,n,s;return i=null!=(n=e.action)?n:"other",s=e.value,this.ga(t,i,s)},t.prototype.markRead=function(t){return this.postMessage("markRead",t)},t.prototype.markSeen=function(t){return this.postMessage("markSeen",t)},t.prototype.markAllSeen=function(){return this.postMessage("markAllSeen")},t.prototype.ga=function(t,e,i){if(this.localOptions.googleAnalytics&&"function"===typeof window.ga)return window.ga("send","event",{eventCategory:"Headway",eventLabel:t,eventAction:e,eventValue:i,nonInteraction:"user"!==e})},t.prototype.postMessageReceive=function(t){var e,i,n,s,o;if(n=(e=t.data)[0],s=e[1],i=e[2],(null!=(o=this.iframe)?o.contentWindow:void 0)===t.source&&"CaptainAmerica"===n)switch(s){case"setHeight":return this.setHeight.apply(this,i);case"setBadge":return this.setBadge.apply(this,i);case"widgetReady":return this.widgetReady.apply(this,i);case"hide":return this.hide();case"setAction":return this.setAction.apply(this,i);case"setState":return this.setState.apply(this,i);case"migrateLocalStorage":return this.migrateLocalStorage.apply(this,i)}},t.prototype.attachListeners=function(){var t,e,i;if(this.ticking=!1,window.addEventListener("scroll",this.updatePosition),window.addEventListener("resize",this.updatePosition),document.body.addEventListener("click",this.onBodyClick),this.elements.trigger)for(t=0,e=(i=this.elements.trigger).length;t<e;t++)i[t].addEventListener("click",this.toggle);return this.log("Widget.attachListeners#triggers",this.elements.trigger)},t.prototype.onBodyClick=function(){if(!this.localOptions.embed&&this.visible)return this.hide()},t.prototype.onFrameLoad=function(){var t;return t={host:location.hostname,options:this.localOptions,localStorage:this.lsGetState()},this.postMessage("ready",t),this.log("Widget.attachListeners#load",t)},t.prototype.lsKey=function(t){return"HW_"+t+"Items["+this.accountId+"]"},t.prototype.lsGetState=function(){var t;return{seen:function(){var e,i,n,s;for(s=[],e=0,i=(n=this.lsGet("seen")).length;e<i;e++)t=n[e],s.push(parseInt(t));return s}.call(this),read:function(){var e,i,n,s;for(s=[],e=0,i=(n=this.lsGet("read")).length;e<i;e++)t=n[e],s.push(parseInt(t));return s}.call(this)}},t.prototype.lsSetState=function(t){var e,i,n;for(e in i=[],t)n=t[e],i.push(this.lsSet(e,n));return i},t.prototype.lsGet=function(t){var e,i,n;try{n=null!=(i=window.localStorage)?i.getItem(this.lsKey(t)):void 0}catch(s){e=s,this.warn(e)}return(null!=n?n.length:void 0)>0?n.split(","):[]},t.prototype.lsSet=function(t,e){var i,n,s;try{return e instanceof Array?null!=(n=window.localStorage)?n.setItem(this.lsKey(t),e.slice(-30).join(",")):void 0:null!=(s=window.localStorage)?s.removeItem(this.lsKey(t)):void 0}catch(o){return i=o,this.warn(i)}},t.prototype.migrateLocalStorage=function(){var t;return t=this.lsGetState(),this.lsSetState({seen:null,read:null,_seen:t.seen,_read:t.read}),this.reload()},t.prototype.setState=function(t){return this.state=t,"server"!==this.remoteOptions.activeStorage&&this.lsSetState(t),this.onWidgetUpdate(this),this.log("Widget.setState",t)},t.prototype.show=function(){return this.visible=!0,this.updatePosition(),this.iframeCont.classList.add("HW_visible"),this.postMessage("opened",{}),this.makeAccessible(),this.widgetPosition=(t=null,e=null,{update:function(i){var n=i.scrollX,s=i.scrollY,o=i.viewportWidth,a=i.viewportHeight,r=i.badgeX,h=i.badgeY,l=i.badgeWidth,d=i.badgeHeight,c=i.widgetWidth,p=i.widgetHeight,g=i.positionX,u=i.positionY;t=t||p,p=Math.min(p,1.5*t),e=e||p;var f,m=null;switch(g){case"right":f=r;break;case"left":f=r+l-c;break;case"right-center":f=r+l;break;case"left-center":f=r-c;break;default:throw"Invalid positionX: ".concat(g)}if(/-center/.test(g))m=h+(d-t)/2;else if("top"==u)m=h-t;else{if("bottom"!=u)throw"Invalid positionY: ".concat(u);m=h+d}var y,b=0-f,v=f+c-o,w=0-m,W=m+t-a;v+10>0&&(f-=v+10),b+10>0&&(f=10),W+10>0&&(m-=W+10),w+10>0&&(m=10),"top"==u?y=m+t-10:"bottom"==u&&(y=a-m-10);var H=Math.min(p,y);return e=Math.max(e,H),"top"==u&&(m-=Math.min(e,y)-t),{top:m+s,left:f+n,maxHeight:H}}});var t,e},t.prototype.getPosition=function(){var t,e,i,n,s,o,a,r,h,l;return e=this.elements.badgeCont.getBoundingClientRect(),o=this.iframeCont.getBoundingClientRect(),(n={badge:{width:e.width,height:e.height,top:e.top,left:e.left},frame:{width:o.width,height:o.height}}).frame.height=parseInt(this.iframeCont.style.height),a=parseInt(n.frame.width),t=parseInt(n.badge.height),l={top:window.pageYOffset+t,right:a-n.badge.width},h={y:n.badge.top+n.frame.height>document.documentElement.clientHeight,x:n.badge.left>=document.body.scrollWidth-a},i=n.badge.left-a<0,r={y:h.y?"top":"bottom",x:h.x?"left":"right"},(null!=(s=this.localOptions.position)?s.y:void 0)&&(r.y=null!=s?s.y:void 0),(null!=s?s.x:void 0)&&(r.x=null!=s?s.x:void 0),i&&(r.x="fill"),[n.badge,n.frame,l,r]},t.prototype.newSetPosition=function(){var t,e,i;return t=this.elements.badgeCont.getBoundingClientRect(),i=this.iframeCont.getBoundingClientRect(),e=this.widgetPosition.update({scrollX:window.pageXOffset,scrollY:window.pageYOffset,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,badgeX:t.left,badgeY:t.top,badgeWidth:t.width,badgeHeight:t.height,widgetWidth:i.width,widgetHeight:this.currentHeight,positionX:this.position.x,positionY:this.position.y}),this.iframeCont.style.height=e.maxHeight+"px",this.iframeCont.style.left=e.left+"px",this.iframeCont.style.top=e.top+"px"},t.prototype.classicSetPosition=function(){var t,e,i,n,s;return t=(s=this.getPosition())[0],e=s[1],n=s[2],"right"===(i=s[3]).x?this.iframeCont.style.left=t.left+"px":"left"===i.x?this.iframeCont.style.left=t.left-n.right+"px":this.iframeCont.style.left="0px","top"===i.y?this.iframeCont.style.top=t.top+n.top-e.height-t.height+"px":this.iframeCont.style.top=t.top+n.top+"px"},t.prototype.setPosition=function(){return this.newWidgetPositioning?this.newSetPosition():this.classicSetPosition()},t.prototype.updatePosition=function(){if(!this.localOptions.embed&&this.visible)return this.ticking||window.requestAnimationFrame((t=this,function(){return t.setPosition(),t.ticking=!1})),this.ticking=!0;var t},t.prototype.hide=function(){if(this.visible)return this.visible=!1,this.iframeCont.classList.remove("HW_visible"),this.postMessage("closed",{}),this.makeInaccessible(),this.onHideWidget(this)},t.prototype.reload=function(){return this.postMessage("reload")},t.prototype.triggerCallback=function(t,e){var i,n;if(e=Array.prototype.slice.call(arguments),t=e.shift(),null!=this.localCallbacks)return n=this,i=function(){var i;return null!=(i=n.localCallbacks[t])?i.apply(n,e):void 0},setTimeout(i,0)},t.prototype.toggle=function(t){if(t&&(t.preventDefault(),t.stopPropagation()),this.widgetIsReady)return this.visible?this.hide():(this.show(),this.onShowWidget())},t.prototype.showWidgetBadge=function(){return this.badgeIsReady=!0,this.setBadge(this.getUnseenCount()),this.onShowWidgetBadge(this.getUnseenCount())},t.prototype.setBadge=function(t){var e;if((this.setUnseenCount(t),this.badgeIsReady)&&!this.localOptions.embed)return t>=1?(this.elements.badge.classList.add("HW_visible"),this.elements.badge.classList.remove("HW_softHidden"),this.setStyles(this.elements.badge,"badge"),this.elements.badge.innerText=t,this.remoteOptions.eyecatcher?this.setupEyecatcher():void 0):(this.removeEyecatcher(),this.remoteOptions.softHide?(this.elements.badge.classList.remove("HW_visible"),this.elements.badge.classList.add("HW_softHidden"),this.setStyles(this.elements.badge,"badge","softHidden"),this.elements.badge.innerText=""):(window.setTimeout((e=this,function(){return e.elements.badgeCont.classList.remove("HW_visible")}),300),this.elements.badge.classList.remove("HW_visible"),this.elements.badge.classList.add("HW_hidden"),this.elements.badge.innerText=t))},t.prototype.setHeight=function(t){return this.newWidgetPositioning?this.newSetHeight(t):this.classicSetHeight(t)},t.prototype.newSetHeight=function(t){if(this.currentHeight!==t.height&&(this.currentHeight=t.height,this.iframeCont.style.height=t.height+"px",this.visible))return this.setPosition()},t.prototype.classicSetHeight=function(t){return this.iframe.style.height=t.height+"px",this.iframeCont.style.height=t.height+"px",this.iframeCont.getBoundingClientRect().y+t.height>window.innerHeight?(this.widgetPositionUpdated=!0,this.setPosition()):this.widgetPositionUpdated?(this.setPosition(),this.widgetPositionUpdated=!1):void 0},t.prototype.widgetReady=function(t){var e;if(this.iframeData=t,this.attachListeners(),this.elements.badgeCont.classList.add("HW_visible"),this.remoteOptions=t.options,this.state=t.state,this.setBadge(t.badgeCount),window.setTimeout((e=this,function(){return e.showWidgetBadge()}),1e3*(this.widgetIsReady?1:this.remoteOptions.badgeDelay)),this.log("Widget.widgetReady",t),this.changelogs=t.changelogs,this.widgetIsReady||(this.widgetIsReady=!0,this.onWidgetReady(this)),this.onWidgetUpdate(this),this.localOptions.embed)return this.show()},t.prototype.getChangelogs=function(){var t,e,i,n,s,o;for(e=0,i=(n=this.changelogs).length;e<i;e++)(t=n[e]).read=(s=t.id,a.call(this.lsGet("read"),s)>=0),t.seen=(o=t.id,a.call(this.lsGet("seen"),o)>=0);return this.changelogs},t.prototype.getUnseenCount=function(){return this.unseenCount},t.prototype.setUnseenCount=function(t){return this.unseenCount=t,this.elements.badge.dataset.countUnseen=t>0?t:""},t.prototype.getPrivateToken=function(){if(!this.widgetIsReady)throw"getPrivateToken has to be called after `onWidgetReady` callback";return this.remoteOptions.token},t.prototype.setupEyecatcher=function(){var t;return document.body.appendChild(this.elements.animate),this.elements.animate.rel="stylesheet",this.elements.animate.href=this.protocol+"//cdn.headwayapp.co/headway-animate.css",t=["blank","pulse","jello","rubberBand","wobble","shake","bounce"],this.elements.badge.classList.add("HW_animated"),this.upgradeEyecatcher(t)},t.prototype.upgradeEyecatcher=function(t){var e,i;return e=0,window.setInterval((i=this,function(){var n;return n="HW_"+t[i.eyecatcherLevel],t.length===i.eyecatcherLevel&&(n=t[t.length-1]),i.elements.badge.classList.add(n),window.setTimeout((function(){if(i.elements.badge.classList.remove(n),(e+=1)>=5)return e=0,i.eyecatcherLevel=i.eyecatcherLevel+1,i.elements.badge.classList.remove(n)}),1e3)}),5500)},t.prototype.removeEyecatcher=function(){return this.elements.badge.className="HW_badge"},t.prototype.documentReady=function(t){switch(document.readyState){case"interactive":case"complete":return t();default:return window.addEventListener("DOMContentLoaded",t,!1)}},t.prototype.getNewWidget=function(){return new t},t.prototype.markGlobal=function(){return this.global=!0},t}(),window.Headway=new n,window.Headway.markGlobal(),"undefined"!==typeof HW_config&&null!==HW_config&&window.Headway.init(HW_config)}});